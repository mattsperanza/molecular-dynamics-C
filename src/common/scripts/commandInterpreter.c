#include "../include/commandInterpreter.h"
#include <stdio.h>
#include <string.h>

void commandInterpreter(int argc, char *argv[]){
    printLogo();
    printf("Command line input: \"");
    // Ignore path
    char *firstArg = argv[0];
    int lastSeparator = 0;
    for(int i = 0; i < strlen(firstArg); i++){
        if(firstArg[i] == '/' || firstArg[i] == '\\'){
            lastSeparator = i;
        }
    }
    // Print each argument
    for(int i = lastSeparator + 1; i < strlen(firstArg); i++){
        printf("%c", firstArg[i]);
    }
    for (int i = 1; i < argc; i++) {
        printf(" %s", argv[i]);
    }
    printf("\"\n");

    if (argc < 2) {
        printf("No command provided. Exiting.\n");
        return;
    }
    if (strcasecmp(argv[1], "energy") == 0) {
        printf("Preparing to calculate the energy of the system.\n");
    } else if (strcasecmp(argv[1], "dynamics") == 0) {
        printf("Preparing to run molecular dynamics on the system.\n");
    } else {
        printf("Command not recognized. Exiting...\n");
    }
}

void printLogo() {
    char *logoString;
    logoString = "------------------------------------------------------------------------------------------\n"
                 "|   ███╗   ███╗ ██████╗ ██╗     ███████╗ ██████╗██╗   ██╗██╗      █████╗ ██████╗         |\n"
                 "|   ████╗ ████║██╔═══██╗██║     ██╔════╝██╔════╝██║   ██║██║     ██╔══██╗██╔══██╗        |\n"
                 "|   ██╔████╔██║██║   ██║██║     █████╗  ██║     ██║   ██║██║     ███████║██████╔╝        |\n"
                 "|   ██║╚██╔╝██║██║   ██║██║     ██╔══╝  ██║     ██║   ██║██║     ██╔══██║██╔══██╗        |\n"
                 "|   ██║ ╚═╝ ██║╚██████╔╝███████╗███████╗╚██████╗╚██████╔╝███████╗██║  ██║██║  ██║        |\n"
                 "|   ╚═╝     ╚═╝ ╚═════╝ ╚══════╝╚══════╝ ╚═════╝ ╚═════╝ ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝        |\n"
                 "|                    ██████╗ ██╗   ██╗███╗   ██╗ █████╗ ███╗   ███╗██╗ ██████╗███████╗   |\n"
                 "|                    ██╔══██╗╚██╗ ██╔╝████╗  ██║██╔══██╗████╗ ████║██║██╔════╝██╔════╝   |\n"
                 "|       ███████╗     ██║  ██║ ╚████╔╝ ██╔██╗ ██║███████║██╔████╔██║██║██║     ███████╗   |\n"
                 "|       ╚══════╝     ██║  ██║  ╚██╔╝  ██║╚██╗██║██╔══██║██║╚██╔╝██║██║██║     ╚════██║   |\n"
                 "|                    ██████╔╝   ██║   ██║ ╚████║██║  ██║██║ ╚═╝ ██║██║╚██████╗███████║   |\n"
                 "|                    ╚═════╝    ╚═╝   ╚═╝  ╚═══╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝ ╚═════╝╚══════╝   |\n"
                 "|                                                                                        |\n"
                 "|                                                                                        |\n"
                 "|             ██████╗      ███████╗██████╗ ██╗████████╗██╗ ██████╗ ███╗   ██╗            |\n"
                 "|            ██╔════╝      ██╔════╝██╔══██╗██║╚══██╔══╝██║██╔═══██╗████╗  ██║            |\n"
                 "|            ██║     █████╗█████╗  ██║  ██║██║   ██║   ██║██║   ██║██╔██╗ ██║            |\n"
                 "|            ██║     ╚════╝██╔══╝  ██║  ██║██║   ██║   ██║██║   ██║██║╚██╗██║            |\n"
                 "|            ╚██████╗      ███████╗██████╔╝██║   ██║   ██║╚██████╔╝██║ ╚████║            |\n"
                 "|             ╚═════╝      ╚══════╝╚═════╝ ╚═╝   ╚═╝   ╚═╝ ╚═════╝ ╚═╝  ╚═══╝            |\n"
                 "|   Written by Matt.                                                                     |\n"
                 "------------------------------------------------------------------------------------------\n";
    printf("%s\n\n", logoString);
}
